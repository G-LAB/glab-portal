var bootbox=window.bootbox||function(){function g(c,d){return d==null&&(d=a),typeof f[d][c]=="string"?f[d][c]:d!=b?g(c,b):c}var a="en",b="en",c=!0,d={},e={},f={en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"}};return e.setLocale=function(b){for(var c in f)if(c==b){a=b;return}throw new Error("Invalid locale: "+b)},e.addLocale=function(a,b){typeof f[a]=="undefined"&&(f[a]={});for(var c in b)f[a][c]=b[c]},e.setIcons=function(a){d=a;if(typeof d!="object"||d==null)d={}},e.alert=function(){var a="",b=g("OK"),c=null;switch(arguments.length){case 1:a=arguments[0];break;case 2:a=arguments[0],typeof arguments[1]=="function"?c=arguments[1]:b=arguments[1];break;case 3:a=arguments[0],b=arguments[1],c=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3")}return e.dialog(a,{label:b,icon:d.OK,callback:c},{onEscape:c})},e.confirm=function(){var a="",b=g("CANCEL"),c=g("CONFIRM"),f=null;switch(arguments.length){case 1:a=arguments[0];break;case 2:a=arguments[0],typeof arguments[1]=="function"?f=arguments[1]:b=arguments[1];break;case 3:a=arguments[0],b=arguments[1],typeof arguments[2]=="function"?f=arguments[2]:c=arguments[2];break;case 4:a=arguments[0],b=arguments[1],c=arguments[2],f=arguments[3];break;default:throw new Error("Incorrect number of arguments: expected 1-4")}return e.dialog(a,[{label:b,icon:d.CANCEL,callback:function(){typeof f=="function"&&f(!1)}},{label:c,icon:d.CONFIRM,callback:function(){typeof f=="function"&&f(!0)}}])},e.prompt=function(){var a="",b=g("CANCEL"),c=g("CONFIRM"),f=null;switch(arguments.length){case 1:a=arguments[0];break;case 2:a=arguments[0],typeof arguments[1]=="function"?f=arguments[1]:b=arguments[1];break;case 3:a=arguments[0],b=arguments[1],typeof arguments[2]=="function"?f=arguments[2]:c=arguments[2];break;case 4:a=arguments[0],b=arguments[1],c=arguments[2],f=arguments[3];break;default:throw new Error("Incorrect number of arguments: expected 1-4")}var h=a,i="<form><input type=text /></form>",j=e.dialog(i,[{label:b,icon:d.CANCEL,callback:function(){typeof f=="function"&&f(null)}},{label:c,icon:d.CONFIRM,callback:function(){typeof f=="function"&&f(j.find("form > input[type=text]").val())}}],{header:h})},e.modal=function(){var a,b,c,d={onEscape:null,keyboard:!0,backdrop:!0};switch(arguments.length){case 1:a=arguments[0];break;case 2:a=arguments[0],typeof arguments[1]=="object"?c=arguments[1]:b=arguments[1];break;case 3:a=arguments[0],b=arguments[1],c=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3")}return d.header=b,typeof c=="object"?c=$.extend(d,c):c=d,e.dialog(a,[],c)},e.dialog=function(a,b,d){var e=null,f="",g=[],d=d||{};b==null?b=[]:typeof b.length=="undefined"&&(b=[b]);var h=b.length;while(h--){var i=null,j=null,k="",l=null;if(typeof b[h].label=="undefined"&&typeof b[h]["class"]=="undefined"&&typeof b[h].callback=="undefined"){var m=0,n=null;for(var o in b[h]){n=o;if(++m>1)break}m==1&&typeof b[h][o]=="function"&&(b[h].label=n,b[h].callback=b[h][o])}typeof b[h].callback=="function"&&(l=b[h].callback),b[h]["class"]?j=b[h]["class"]:h==b.length-1&&b.length<=2&&(j="btn-primary"),b[h].label?i=b[h].label:i="Option "+(h+1),b[h].icon&&(k="<i class='"+b[h].icon+"'></i> "),f+="<a data-handler='"+h+"' class='btn "+j+"' href='#'>"+k+""+i+"</a>",g[h]=l}var p=["<div class='bootbox modal'>"];if(d.header){var q="";if(typeof d.headerCloseButton=="undefined"||d.headerCloseButton)q="<a href='#' class='close'>&times;</a>";p.push("<div class='modal-header'>"+q+"<h3>"+d.header+"</h3></div>")}p.push("<div class='modal-body'></div>"),f&&p.push("<div class='modal-footer'>"+f+"</div>"),p.push("</div>");var r=$(p.join("\n")),s=typeof d.animate=="undefined"?c:d.animate;return s&&r.addClass("fade"),$(".modal-body",r).html(a),r.bind("hidden",function(){r.remove()}),r.bind("hide",function(){e=="escape"&&typeof d.onEscape=="function"&&d.onEscape()}),$(document).bind("keyup.modal",function(a){a.which==27&&(e="escape")}),r.bind("shown",function(){$("a.btn-primary:last",r).focus()}),r.on("click",".modal-footer a, a.close",function(a){var b=$(this).data("handler"),c=g[b],d=null;typeof c=="function"&&(d=c()),d!==!1&&(a.preventDefault(),e="button",r.modal("hide"))}),d.keyboard==null&&(d.keyboard=typeof d.onEscape=="function"),$("body").append(r),r.modal({backdrop:d.backdrop||!0,keyboard:d.keyboard}),r},e.hideAll=function(){$(".bootbox").modal("hide")},e.animate=function(a){c=a},e}();(function(){var a=function(){function g(a){return String(a).replace(/&(?!\w+;)|[<>"']/g,function(a){return f[a]||a})}var a=Object.prototype.toString;Array.isArray=Array.isArray||function(b){return a.call(b)=="[object Array]"};var b=String.prototype.trim,c;if(b)c=function(a){return a==null?"":b.call(a)};else{var d,e;/\S/.test("Â ")?(d=/^[\s\xA0]+/,e=/[\s\xA0]+$/):(d=/^\s+/,e=/\s+$/),c=function(a){return a==null?"":a.toString().replace(d,"").replace(e,"")}}var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h={},i=function(){};return i.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(a,b,c,d){d||(this.context=b,this.buffer=[]);if(!this.includes("",a)){if(d)return a;this.send(a);return}a=this.render_pragmas(a);var e=this.render_section(a,b,c);e===!1&&(e=this.render_tags(a,b,c,d));if(d)return e;this.sendLines(e)},send:function(a){a!==""&&this.buffer.push(a)},sendLines:function(a){if(a){var b=a.split("\n");for(var c=0;c<b.length;c++)this.send(b[c])}},render_pragmas:function(a){if(!this.includes("%",a))return a;var b=this,c=this.getCachedRegex("render_pragmas",function(a,b){return new RegExp(a+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+b,"g")});return a.replace(c,function(a,c,d){if(!b.pragmas_implemented[c])throw{message:"This implementation of mustache doesn't understand the '"+c+"' pragma"};b.pragmas[c]={};if(d){var e=d.split("=");b.pragmas[c][e[0]]=e[1]}return""})},render_partial:function(a,b,d){a=c(a);if(!d||d[a]===undefined)throw{message:"unknown_partial '"+a+"'"};return!b||typeof b[a]!="object"?this.render(d[a],b,d,!0):this.render(d[a],b[a],d,!0)},render_section:function(a,b,c){if(!this.includes("#",a)&&!this.includes("^",a))return!1;var d=this,e=this.getCachedRegex("render_section",function(a,b){return new RegExp("^([\\s\\S]*?)"+a+"(\\^|\\#)\\s*(.+)\\s*"+b+"\n*([\\s\\S]*?)"+a+"\\/\\s*\\3\\s*"+b+"\\s*([\\s\\S]*)$","g")});return a.replace(e,function(a,e,f,g,h,i){var j=e?d.render_tags(e,b,c,!0):"",k=i?d.render(i,b,c,!0):"",l,m=d.find(g,b);return f==="^"?!m||Array.isArray(m)&&m.length===0?l=d.render(h,b,c,!0):l="":f==="#"&&(Array.isArray(m)?l=d.map(m,function(a){return d.render(h,d.create_context(a),c,!0)}).join(""):d.is_object(m)?l=d.render(h,d.create_context(m),c,!0):typeof m=="function"?l=m.call(b,h,function(a){return d.render(a,b,c,!0)}):m?l=d.render(h,b,c,!0):l=""),j+l+k})},render_tags:function(a,b,c,d){var e=this,f=function(){return e.getCachedRegex("render_tags",function(a,b){return new RegExp(a+"(=|!|>|&|\\{|%)?([^#\\^]+?)\\1?"+b+"+","g")})},h=f(),i=function(a,d,i){switch(d){case"!":return"";case"=":return e.set_delimiters(i),h=f(),"";case">":return e.render_partial(i,b,c);case"{":case"&":return e.find(i,b);default:return g(e.find(i,b))}},j=a.split("\n");for(var k=0;k<j.length;k++)j[k]=j[k].replace(h,i,this),d||this.send(j[k]);if(d)return j.join("\n")},set_delimiters:function(a){var b=a.split(" ");this.otag=this.escape_regex(b[0]),this.ctag=this.escape_regex(b[1])},escape_regex:function(a){if(!arguments.callee.sRE){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+b.join("|\\")+")","g")}return a.replace(arguments.callee.sRE,"\\$1")},find:function(a,b){function d(a){return a===!1||a===0||a}a=c(a);var e;if(a.match(/([a-z_]+)\./ig)){var f=this.walk_context(a,b);d(f)&&(e=f)}else d(b[a])?e=b[a]:d(this.context[a])&&(e=this.context[a]);return typeof e=="function"?e.apply(b):e!==undefined?e:""},walk_context:function(a,b){var c=a.split("."),d=b[c[0]]!=undefined?b:this.context,e=d[c.shift()];while(e!=undefined&&c.length>0)d=e,e=e[c.shift()];return typeof e=="function"?e.apply(d):e},includes:function(a,b){return b.indexOf(this.otag+a)!=-1},create_context:function(a){if(this.is_object(a))return a;var b=".";this.pragmas["IMPLICIT-ITERATOR"]&&(b=this.pragmas["IMPLICIT-ITERATOR"].iterator);var c={};return c[b]=a,c},is_object:function(a){return a&&typeof a=="object"},map:function(a,b){if(typeof a.map=="function")return a.map(b);var c=[],d=a.length;for(var e=0;e<d;e++)c.push(b(a[e]));return c},getCachedRegex:function(a,b){var c=h[this.otag];c||(c=h[this.otag]={});var d=c[this.ctag];d||(d=c[this.ctag]={});var e=d[a];return e||(e=d[a]=b(this.otag,this.ctag)),e}},{name:"mustache.js",version:"0.4.0",to_html:function(a,b,c,d){var e=new i;d&&(e.send=d),e.render(a,b||{},c);if(!d)return e.buffer.join("\n")}}}();(function(){function b(a){return"".trim?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")}var c={VERSION:"0.10",templates:{},$:typeof window!="undefined"?window.jQuery||window.Zepto||null:null,addTemplate:function(b,d){if(typeof b=="object"){for(var e in b)this.addTemplate(e,b[e]);return}c[b]?console.error("Invalid name: "+b+"."):c.templates[b]?console.error('Template "'+b+'  " exists'):(c.templates[b]=d,c[b]=function(d,e){d=d||{};var f=a.to_html(c.templates[b],d,c.templates);return c.$&&!e?c.$(f):f})},clearAll:function(){for(var a in c.templates)delete c[a];c.templates={}},refresh:function(){c.clearAll(),c.grabTemplates()},grabTemplates:function(){var a,d=document.getElementsByTagName("script"),e,f=[];for(a=0,l=d.length;a<l;a++)e=d[a],e&&e.innerHTML&&e.id&&(e.type==="text/html"||e.type==="text/x-icanhaz")&&(c.addTemplate(e.id,b(e.innerHTML)),f.unshift(e));for(a=0,l=f.length;a<l;a++)f[a].parentNode.removeChild(f[a])}};typeof require!="undefined"?module.exports=c:window.ich=c,typeof document!="undefined"&&(c.$?c.$(function(){c.grabTemplates()}):document.addEventListener("DOMContentLoaded",function(){c.grabTemplates()},!0))})()})();